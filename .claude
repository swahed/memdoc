# MemDoc - Memoir Writing Tool

## Critical Context
- **Purpose**: Personal memoir tool for 1-2 users (mom + family)
- **Scale**: Single memoir, ~200-300 pages, local-only
- **Privacy**: CRITICAL - No external APIs with personal content
- **Philosophy**: Simple > Complex, Working > Perfect, Readable > Clever

## Key Constraints
- Mom is retired CS specialist - keep code readable for her
- Fixed prompts only (no AI API calls with memoir content)
- Git clone = install, git pull = update
- OneDrive sync for backup (user-controlled)
- No feature bloat - resist the urge to over-engineer

## Architecture (Quick Reference)
- **Storage**: One markdown file per chapter in data/chapters/
- **Metadata**: memoir.json for chapter order and memoir-level info
- **Stack**: Python 3.10+, Flask, Eel (for desktop wrapper)
- **Frontend**: Vanilla HTML/CSS/JS (no frameworks)
- **PDF**: WeasyPrint (HTML/CSS to print-quality PDF)
- **UI**: iA Writer-inspired (minimal, typography-focused, distraction-free)

## File Structure
```
data/
â”œâ”€â”€ memoir.json              # Metadata & chapter order
â”œâ”€â”€ chapters/
â”‚   â”œâ”€â”€ ch001-early-years.md
â”‚   â”œâ”€â”€ ch002-college-days.md
â”‚   â””â”€â”€ ...
â””â”€â”€ images/                  # Shared images
```

## What NOT to Do
- âŒ Add features not in ROADMAP.md without asking
- âŒ Send memoir content to external APIs
- âŒ Complex abstractions for 1-2 users
- âŒ Heavy frameworks when vanilla works
- âŒ Premature optimization
- âŒ Backwards compatibility hacks
- âŒ Over-engineering for hypothetical scaling

## What TO Do
- âœ… Keep code simple and readable (mom might contribute)
- âœ… Follow existing patterns in codebase
- âœ… Check ROADMAP.md before adding features
- âœ… Consider privacy implications always
- âœ… Ask questions when approach is unclear
- âœ… Explain your approach (educational value for Python learner)

## Development Workflow
- Run in browser during dev: `python app.py --browser`
- Desktop mode later via Eel wrapper
- User has .NET/JS experience, learning Python
- Keep Python beginner-friendly

## Documentation
- **README.md** - User-facing quick start
- **docs/ROADMAP.md** - Feature backlog and implementation phases
- **docs/ARCHITECTURE.md** - Technical design and decisions
- **docs/DEVELOPMENT.md** - Development guidelines and common tasks
- **docs/AI_CONTEXT.md** - Comprehensive context for AI assistants (detailed)

## Current Status
**Phase 1: MVP** - Core writing experience (mostly complete)

âœ… Completed:
- Project structure and dependencies
- Flask app with iA Writer-inspired UI
- Chapter creation and management
- Auto-save functionality
- Writing prompts sidebar
- Word count tracking

ğŸš§ In Progress:
- Markdown formatting buttons (bold, italic)
- Chapter management improvements

Next up: Phase 2 features (events, timeline, search)

## Key Question Before Any Change
**"Does this help mom write her memoirs better?"**
- If yes â†’ do it simply
- If no â†’ don't do it
- If unsure â†’ ask the user

## User Context
- Developer: .NET/JS background, learning Python
- End user (mom): Retired CS specialist, tech-savvy
- Both value simplicity and elegance over feature richness
